<<<<<<< HEAD
var anObject = require('../internals/an-object');
=======
'use strict';
var anObject = require('../internals/an-object');
var iteratorClose = require('../internals/iterator-close');
>>>>>>> develop-sw

// call something on iterator step with safe closing on error
module.exports = function (iterator, fn, value, ENTRIES) {
  try {
    return ENTRIES ? fn(anObject(value)[0], value[1]) : fn(value);
<<<<<<< HEAD
  // 7.4.6 IteratorClose(iterator, completion)
  } catch (error) {
    var returnMethod = iterator['return'];
    if (returnMethod !== undefined) anObject(returnMethod.call(iterator));
    throw error;
=======
  } catch (error) {
    iteratorClose(iterator, 'throw', error);
>>>>>>> develop-sw
  }
};
