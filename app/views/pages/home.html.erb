<!DOCTYPE html>
<html>
  <head>
    <title>YouTube Clone</title>

    <!-- Bootstrap CSS 파일 로드 -->
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <style>
      .sidebar-container {
        display: flex;
        flex-direction: column;
        width: 200px;
      }
      .youtube-container {
        display: flex;
        align-items: center;
        padding: 10px;
        background-color: #f8f9fa;
        font-size: 20px;
        font-weight: bold;
      }
      .nav.flex-column {
        flex-grow: 1;
      }
      .main-content {
        margin-left: 220px; /* 사이드바 옆에 콘텐츠 공간 확보 */
      }
    </style>
  </head>

  <body>
    <!-- Bootstrap JS 파일 로드 -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.bundle.min.js"></script>

    <p id="notice"><%= notice %></p>

    <!-- 전체 컨테이너 -->
    <div class="d-flex">
      <!-- Sidebar 컨테이너 -->
      <div class="sidebar-container bg-light">
        <!-- 로고 -->
        <div class="youtube-container">
          <i class="fab fa-youtube text-danger"></i>
          <span class="ml-2">YOUTUBE</span>
        </div>

        <!-- Sidebar 메뉴 -->
        <div class="nav flex-column bg-light p-3 mt-4">
          <div class="nav-item">
            <i class="fas fa-home"></i>
            <%= link_to '홈', root_path, class: 'nav-link' %>
          </div>
          <div class="nav-item">
            <i class="fas fa-play"></i>
            <%= link_to 'Shorts', '/shorts', class: 'nav-link' %>
          </div>
          <div class="nav-item">
            <i class="fas fa-video"></i>
            <%= link_to 'New Main', new_main_path, class: 'nav-link' %>
          </div>

          <%= form_with(url: categories_path, method: :post, local: true) do |f| %>
            <div class="form-group">
              <label for="category">카테고리 선택</label>
              <%= f.select :category, [["옵션 1", "option1"], ["옵션 2", "option2"], ["옵션 3", "option3"]], { prompt: "선택하세요" }, class: "form-control" %>
            </div>
          <% end %>
        </div>
      </div>

      <!-- 메인 콘텐츠 -->
      <div class="main-content flex-grow-1 p-3">
        <!-- 검색창 -->
       <div class="center-container" style="position: absolute; top: 1px; left: 50%; transform: translateX(-50%); width: 50%;">
          <%= form_with url: search_videos_path, method: :get, local: true, class: "input-group" do %>
            <%= text_field_tag :query, params[:query], placeholder: "Search..", class: "form-control" %>
            <div class="input-group-append">
              <%= submit_tag "", class: "btn btn-outline-secondary fas fa-search", style: "border: none; background: none;" %>
            </div>
          <% end %>
        </div>

       <!-- 사용자 정보 -->
		<div class="dropdown" style="position: fixed; top: 10px; right: 10px; z-index: 1000;">
		  <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false" style="border-radius: 50%; width: 50px; height: 50px;">
			<i class="fas fa-user"></i>
		  </button>
		  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdownMenuButton1">
			<% if current_user %>
			  <li class="dropdown-item disabled">로그인</li>
			  <li class="dropdown-item disabled">회원가입</li>
			  <li>
				<%= link_to "Edit Account", edit_user_registration_path, class: "dropdown-item" %>
			  </li>
			  <li>
				<%= button_to "Logout", destroy_user_session_path, method: :delete, class: "dropdown-item", data: { turbo: "false" } %>
			  </li>
			<% else %>
			  <li>
				<%= link_to '로그인', new_user_session_path, class: 'dropdown-item' %>
			  </li>
			  <li>
				<%= link_to '회원가입', new_user_registration_path, class: 'dropdown-item' %>
			  </li>
			  <li class="dropdown-item disabled">Edit Account</li>
			  <li class="dropdown-item disabled">Logout</li>
			<% end %>
		  </ul>
		</div>
        </div>
    </div>
  </body>
</html>
